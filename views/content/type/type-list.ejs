<div class="kt-container  kt-container--fluid  kt-grid__item kt-grid__item--fluid">
	<div class="kt-portlet">
			<div class="kt-portlet__head">
				<div class="kt-portlet__head-label">
					<h3 class="kt-portlet__head-title">All Expense Types</h3>
				</div>
				<div class="">
					<h6 class="text-danger" id="errDisplay"></h6>
				</div>
				<div class="kt-portlet__head-toolbar">
					<div class="kt-portlet__head-wrapper">
						<a href="#" class="btn btn-brand btn-bold btn-upper btn-font-sm" data-toggle="modal" data-target="#createTypeModal">
							<i class="la la-plus"></i>
							Create New
						</a>
						<!-- Modal -->
						<div class="modal fade" id="createTypeModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
							<div class="modal-dialog" role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title" id="exampleModalLabel">Create Type</h5>
										<button type="button" class="close" data-dismiss="modal" aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>
									</div>
									<form class="kt-form kt-form--fit kt-form--label-right" action="#" id="createType" onsubmit="submitType(event, <%= user.CurrentBusinessId %>)">
										<div class="modal-body">
											<div class="form-group">
												<label>Type Name:</label>
												<input type="text" name="type_name" id="type_name" class="form-control" placeholder="Type Name">
												<span class="form-text text-muted">Please enter the type name</span>
											</div>
										</div>
										<div class="modal-footer">
											<button type="button" class="btn btn-outline-brand" data-dismiss="modal">Close</button>
											<button type="submit" class="btn btn-brand" id="typeSubmitBtn">Create</button>
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			
			<div class="kt-portlet__body">
				<div class="kt-section">
					<div class="kt-section__content kt-section__content--border">
						<% if (types == 'None'){ %>
							<div class="alert alert-light alert-elevate" role="alert">
			              		<div class="alert-icon"><i class="flaticon-warning kt-font-brand"></i></div>
			              		<div class="alert-text">
			              			<h3 class="kt-portlet__head-title">
			              			  No Expense Type created
			              			</h3>
			              		</div>
			              	</div>
			            <% } else { %>
							<% types.forEach(function(type) { %>
								<div class="list-group">
									<a href="/type/<%= type.id %>" class="list-group-item list-group-item-action flex-column align-items-start">
										<div class="d-flex w-100 justify-content-between">
											<h5 class="mb-1"><%= type.type_name %></h5>
											<small><%= moment(type.createdAt).fromNow() %></small>
										</div>
									</a>
								</div>
							<% }); %>
						<% } %>
					</div>
				</div>
			</div>
		</div>
</div>
<script src="/assets/js/scripts/type/typeCreate.js" type="text/javascript"></script>

<script>
	const userId = `<%= user.id %>`;
	const currentBusinessId = `<%= user.CurrentBusinessId %>`;

</script>